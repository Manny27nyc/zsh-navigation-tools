# Copy this file into /usr/share/zsh/[-version-]/functions
# and add 'autoload v-aliases` to .zshrc
#
# This function allows to choose an alias for edition with vared
#
# Uses n-list

emulate -L zsh

setopt localoptions extendedglob
zmodload zsh/curses

local IFS="
"

local list
local selected

VLIST_REMEMBER_STATE=0

list=( "${(@k)aliases}" )
list=( "${(@M)list:#(#i)*$1*}" )

if [ "$#list" -eq 0 ]; then
    echo "No matching aliases"
    return 1
fi

list=( "${(@i)list}" )
n-list "$list[@]"

if [ "$REPLY" -gt 0 ]; then
    selected="$list[$REPLY]"
    echo "Editing \`$selected':"
    vared aliases\[$selected\]
fi

# vim: set filetype=zsh:
